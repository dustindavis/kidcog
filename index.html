<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<style>

ul.answerList {
	list-style: none;

}

    ul.answerList li {
        display: inline;
    }
    ul.answerList li div {
        width: 100px;
        height: 100px;
        float: left;
        margin: 10px;
    
        }

    #game {
        display: none;
    }

.answer1 
{
	background-color: green;
}
.answer2
{
	background-color: red;
}
.answer3 
{
	background-color: blue;
}
.answer4 
{
	background-color: orange;
}

    #gamescreen {
        float: left;
        width: 300px;
        height: 200px;
        clear:both;
        margin: 10px;

    }

    #gameoptions {
        clear: both;
        margin: 0px;
    }

    .answermsg {
        display: none;
        font-size: 50px;
        text-align: center;
        vertical-align: middle;
    }

    #gamePlayer {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 10px;
    }

     a#startGame {
        font-size: 26px;
        margin-top: 10px;
        text-align: center;
    }

    input#playername {
        font-size: 20px;
        margin-bottom: 10px;
    }

</style>
    </head>
<body>

<div id="gameOptions">
	What's your name?<br /> <input type="text" value="Player 1" name="playername" id="playername" placeholder="Your name" /><br />
        <a id="startGame" href="#">Start!</a>
</div>

<div id="answerStatus">

</div>

<div id="game">
    <div id="gamePlayer"></div>
    <div id="gameScore">0</div>
	<div id="gamescreen" answerid="0">
	    <div id="correct" class="answermsg">
            Yes!
        </div>
        <div id="incorrect" class="answermsg">
            Oops!
        </div>
        <div id="start" class="answermsg">
            Go!
        </div>
	</div>

	<div id="gameoptions">
	<span>Which color is showing in the big box?</span>
		<ul class="answerList">
			<li><div class="answer1 clickableAnswer" answerid="1">&nbsp;</div></li>
			<li><div class="answer2 clickableAnswer" answerid="2">&nbsp;</div></li>
			<li><div class="answer3 clickableAnswer" answerid="3">&nbsp;</div></li>
			<li><div class="answer4 clickableAnswer" answerid="4">&nbsp;</div></li>
		</ul>
	</div>
	
</div>

<script type="text/javascript">

     gameControl = (function () {

         var currentAnswer = 0;
         var score = 0;
         var startTime = new Date();
         var endTime = new Date();

         init = function () {
             $('a#startGame').click(function (e) {
                 e.preventDefault();
                 $('#gameOptions').hide();
                 var playerName = $('input#playername').val();
                 $('#gamePlayer').html(playerName);
                 $('#game').show();
                 newSlide();
                 showAnswerResponse("start");
             });

             $('div.clickableAnswer').click(function (e) {
                 endTime = new Date();
                 var aid = $(this).attr('answerid');

                 if (aid == currentAnswer) {
                     showAnswerResponse("correct");
                     calculateScore();
                     newSlide();
                 } else {
                     showAnswerResponse("incorrect");
                 }
             });
         }

         calculateScore = function () {
             var result = endTime.getTime() - startTime.getTime();
             var addScore = 0;

             if (result < 2000) { addScore = 100; }
             else {
                 addScore = 100 - parseInt((result - 2000) / 10);
             }

             if (addScore < 40) { addScore = 40; }

             score = score + addScore;
             $('#gameScore').html(score);
         }

         showAnswerResponse = function (type) {
             $('#' + type).show().fadeOut("slow");
         }

         newSlide = function () {
             $('#gamescreen').removeClass('answer' + currentAnswer);

             while (true) {
                 var newAid = Math.floor((Math.random() * 4) + 1);
                 if (newAid != currentAnswer) {
                     currentAnswer = newAid;
                     break;
                 }
             }
             $('#gamescreen').addClass('answer' + currentAnswer);
             startTime = new Date();
         }

         return {
             init: init
         }


    })();

     gameControl.init();

</script>

</body>
</html>